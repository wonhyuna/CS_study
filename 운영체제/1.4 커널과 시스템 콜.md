# 커널과 시스템 콜
### 커널
- OS의 핵심 요소
- 컴퓨터 하드웨어와 프로세스의 보안, 자원 관리, 하드웨어 추상화 같은 중요한 역할을 수행
- 자원 관리를 위해 CPU 스케줄링, 메모리 관리, 입출력 관리, 파일 시스템 관리 등을 담당
<br>

![image](https://github.com/wonhyuna/CS_study/assets/68580694/10a01418-503f-462f-a146-d93c67c3a08b)

<br>

#### 커널모드
- 하드웨어에 직접 접근해 메모리, CPU와 같은 자원 사용 가능

#### 사용자 모드
- 커널 모드의 자원에 접근할 수 없게 제한을 둠
<br>

### 시스템 콜
- 사용자 모드에서 실행된 프로세스가 자원에 접근하려면 시스템 콜을 호출해 커널에 요청해야 함
- 사용자 모드에서 커널 모드에 접근해 필요한 기능을 수행하게 하는 시스템 함수
- 커널은 시스템 콜로 받은 요청을 처리한 후 다시 시스템 콜로 결과 값을 반환
- (사용자 모드) 응용 프로그램 -> **시스템 콜** -> (커널 모드) 자원
- ex) 프로세스 생성: **fork()**, 부모가 자식 프로세스 수행 기다림: **wait()**
<br>

#### 시스템 콜에서 커널에 매개변수 전달하는 방법
1. CPU의 레지스터에 직접 전달 (매개변수 개수 > 레지스터 개수의 경우 문제가 될 수 있음)
2. 메모리에 저장한 후 메모리의 주소 값을 레지스터에 저장
3. 프로그램의 스택에 push하고 OS에서 pop해줌
