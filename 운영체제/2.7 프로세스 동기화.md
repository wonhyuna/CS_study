# 프로세스 동기화
### 경쟁 상태
- 공유 자원에 동시에 접근해 경쟁하는 상태 (순서 결정)  
ex) 냉장고 (공유자원) / 엄마, 아빠 (프로세스)  
-> 우유를 사러 간 지 모르고 또 우유를 사서 2개가 되는 결과
-> 이를 해결하기 위해 **프로세스 동기화** 필요

### 임계 영역
- 공유 자원에 접근할 수 있고 접근 순서에 따라 결과가 달라지는 코드 영역
- 경쟁 상태를 방지하려면 데이터의 일관성이 유지되도록 **프로세스 동기화** 필요
- 임계 영역에 여러 접근이 동시에 발생하는 것을 방지하는 방법  
  1. 상호배제기법: 동시에 프로세스가 임계 영역에 접근할 수 없음 **(뮤텍스, 세마포어)**
  2. 진행: 임계 영역을 실행 중인 프로세스가 없을 때 다른 프로세스가 임계 영역을 실행
  3. 한정된 대기: 임계 영역에 접근을 요청했을 때 무한한 시간을 기다리지 않음

#### 뮤텍스
- **락**을 가진 프로세스만이 공유 자원에 접근할 수 있게 하는 방법  
ex) 화장실과 화장실 열쇠가 1개뿐인 식당
  - 화장실: 임계 영역, 열쇠: 락, 사람들: 프로세스
  - 락킹 매커니즘: 임계 영역에 접근한 프로세스가 임계 영역에 락을 검 (해제 시 까지 대기)

- 스핀락: 프로세스는 반복문을 통해 락이 풀렸는지 확인함 (바쁜 대기)
  - 빠른 교체 가능, 대기 상태X

#### 세마포어
- 공유 자원에 접근할 수 있는 프로세스의 수를 정해 접근을 제어하는 방법  
ex) 화장실 3개, 키 3개
  - 화장실: 임계 영역, 사람들: 프로세스, 화장실(열쇠) 개수: 공유 자원에 접근할 수 있는 프로세스의 수를 제어하는 정수 변수
  - 시그널링 매커니즘: 키를 가진 프로세스만이 임계 영역에 접근 가능, 접근 해제하면 다른 프로세스가 접근할 수 있도록 신호를 보냄


#### 동기, 비동기, 블로킹, 넌블로킹
- 작업 순서
  - 동기: 여러 작업을 처리할 때 순서 보장
  - 비동기: 여러 작업을 처리할 때 작업 순서 보장X
- 작업 대기
  - 블로킹: 작업을 수행할 때 대기할 수 있다는 것을 의미하여 작업 순서를 보장하지 않음
  - 넌블로킹: 작업을 시작하면 대기 없이 수행한다는 것을 의미함